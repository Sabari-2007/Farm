<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Disease Prediction - FarmEasy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/jpeg" href="Assets/cropped-Gemini_Generated_Image_1z5ej21z5ej21z5e-removebg-preview.png">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: flex;
      background: #f4f4f9;
    }
    header {
      background: linear-gradient(to right, #34495e, rgb(166, 173, 209));
      color: white;
      padding: 15px;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
      border-radius: 8px;
    }

    /* Sidebar */
    .sidebar {
      width: 220px;
      background: #2c3e50;
      color: white;
      height: 100vh;
      padding-top: 20px;
      display: flex;
      flex-direction: column;
      position: fixed;
    }

    .sidebar h2 {
      text-align: center;
      margin-bottom: 20px;
    }

    .sidebar button {
     background: none;
      border: none;
      color: white;
      padding: 15px;
      text-align: left;
      cursor: pointer;
      font-size: 16px;
      transition: background 0.3s, padding-left 0.3s;
    }

    .sidebar button:hover {
      background: #27ae60;
      padding-left: 30px;
    }

    /* Main content */
    .main-content {
      flex: 1;
      padding: 30px;
      margin-left: 240px;
    }

    .header {
      font-size: 28px;
      margin-bottom: 20px;
      color: #333;
    }

    /* Upload box */
    .upload-box {
      border: 2px dashed #27ae60;
      border-radius: 10px;
      padding: 30px;
      text-align: center;
      background: #fff;
      margin-bottom: 20px;
    }

    .upload-box input {
      display: none;
    }

    .upload-label {
      background: #27ae60;
      color: white;
      padding: 12px 20px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.3s;
      display: inline-block;  
      height: 60px;        
      line-height: 60px; 
    }

    .upload-label:hover {
      background: #219150;
    }

    #preview {
      margin-top: 20px;
      max-width: 200px;
      border-radius: 8px;
      display: none;
    }

    .result {
      margin-top: 20px;
      padding: 20px;
      background: #ecf9f1;
      border: 1px solid #27ae60;
      border-radius: 8px;
      display: none;
    }

    .result h3 {
      color: #27ae60;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <!-- Sidebar -->
  <div class="sidebar">
    <h2>Menu</h2>
    <button onclick="navigateTo('home.html', this)">Price Prediction</button>
    <button onclick="navigateTo('disease.html', this)">Disease Prediction</button>
    <button onclick="navigateTo('Market place.html', this)">Market Place</button>
    <button onclick="navigateTo('Scheme.html', this)">Schemes</button>
    <button onclick="navigateTo('profile.html', this)">Profile</button>
  </div>
    
  
  <!-- Main Content -->
  <div class="main-content">
    <div class="header">ðŸŒ± Disease Prediction</div>

    <div class="upload-box">
      <label for="file-upload" class="upload-label">Upload Plant/Leaf Image</label>
      <input type="file" id="file-upload" accept="image/*" onchange="previewImage(event)">
      <br>
      <img id="preview" alt="Uploaded Preview">
    </div>

    <div id="result" class="result"></div>
  </div>

  <script>
// Sample stored disease images & recommendations (mock DB in JS)
const diseaseDB = {
  "Assets/Alternaria.jpeg": { disease: "Alternaria solani", medicine: "Improve air circulation (stake plants, proper spacing).Practice crop rotation (avoid planting tomato/potato in the same soil repeatedly).Remove and destroy infected leaves." },
  "Assets/Bean rustly desise.jpeg": { disease: "Bean rustly desise", medicine: "Control bean rust with an integrated approach: practice good garden hygiene by ensuring proper spacing, avoiding overhead watering, and removing infected debris. For active infections, use organic sprays like neem oil or baking soda, or apply fungicides during the early stages for more serious cases." },
  "Assets/Brassica.jpeg": { disease: "Brassica Alternaria Leaf Spot", medicine: "Black Spot / Alternaria Leaf Spot (common in mustard, cabbage, cauliflower).Spray Mancozeb or Copper oxychloride.Remove affected leaves.Avoid overhead irrigation." },
  "Assets/CMV.jpeg": { disease: "CMV", medicine: "Rogue out (remove) affected plants.Control aphid population.Use reflective mulches (silver mulch reduces aphid landings).Plant resistant/tolerant varieties." },
  "Assets/Curl.jpeg": { disease: "Curl Virus", medicine: "Spray neem oil or imidacloprid (systemic insecticide) for whitefly control.Install yellow sticky traps.Grow resistant chili varieties." },
  "Assets/Downy.jpeg": { disease: "Downy Mildew", medicine: "Treat onion downy mildew with fungicides like Mancozeb or a combination of Metalaxyl and Mancozeb. Improve cultural practices by ensuring good airflow, avoiding overhead irrigation, and using crop rotation." },
  "Assets/Mosaic Virus.jpeg": { disease: "Mosaic Virus", medicine: "Remove and destroy infected plants.Control aphids with neem oil spray or insecticidal soap.Practice crop rotation.Use virus-resistant cabbage varieties." },
  "Assets/mosaic.jpeg": { disease: "Mosaic Virus", medicine: "To manage Okra Yellow Vein Mosaic Disease, use YVMV-tolerant okra varieties, control the whitefly vector with insecticides and yellow sticky traps, and employ cultural practices like crop rotation and destroying infected plants." },
  "Assets/Phytophthora.jpeg": { disease: "Phytophthora", medicine: "Spray fungicides like Mancozeb or Metalaxyl.Destroy affected leaves and tubers.Ensure proper field drainage (disease thrives in humid, wet conditions).Use resistant potato varieties." }
};

    function navigateTo(page, btn){
      document.querySelectorAll('.sidebar button').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      window.location.href = page;
    }
function previewImage(event) {
  const file = event.target.files[0];
  const preview = document.getElementById('preview');
  const resultBox = document.getElementById('result');

  if(file){
    const reader = new FileReader();
    reader.onload = function(e){
      preview.src = e.target.result;
      preview.style.display = "block";

      // Corrected check
      const key = "Assets/" + file.name;
      if(diseaseDB[key]){
        const { disease, medicine } = diseaseDB[key];
        resultBox.innerHTML = `<h3>Detected Disease: ${disease}</h3>
                               <p><strong>Recommended Medicine:</strong> ${medicine}</p>`;
      } else {
        resultBox.innerHTML = `<h3>No Match Found</h3>
                               <p>Try uploading a different image or add it to the database.</p>`;
      }
      resultBox.style.display = "block";
    };
    reader.readAsDataURL(file);
  }
}

  </script>
</body>
</html>
